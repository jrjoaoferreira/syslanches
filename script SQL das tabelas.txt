CREATE TABLE tbLanches (
    id_lanche INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome_lanche VARCHAR(100) NOT NULL
);


CREATE TABLE tbIngredientes (
    id_ingrediente INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome_ingrediente VARCHAR(80) NOT NULL,
    valor_ingrediente DECIMAL(10,2) NOT NULL
);



CREATE TABLE tbLancheIngredientes (
    id_lanche INTEGER NOT NULL,
    id_ingrediente INTEGER NOT NULL,
    PRIMARY KEY (id_lanche, id_ingrediente),
    FOREIGN KEY (id_lanche) REFERENCES tbLanches(id_lanche),
    FOREIGN KEY (id_ingrediente) REFERENCES tbIngredientes(id_ingrediente)
);


CREATE SEQUENCE seq_tbLanches_id;

CREATE TRIGGER TRG_TBLANCHES_ID FOR TBLANCHES BEFORE INSERT
AS BEGIN NEW.id_lanche = GEN_ID(seq_tbLanches_id, 1); end

CREATE SEQUENCE seq_tbIngredientes_id;

CREATE TRIGGER trg_tbIngredientes_id FOR tbIngredientes BEFORE INSERT AS BEGIN NEW.id_ingrediente = GEN_ID(seq_tbIngredientes_id, 1); END